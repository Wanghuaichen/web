/**
 * Created by admin on 2015/11/2.
 */$(function(){function g(){$("#userlist").empty();var a=$("#orglist option:selected").val().trim(),b={};b.orgId=a;a=listuser(b);a=JSON.parse(a);if("success"==a.errCode)for(a=a.accountList,b=0;b<a.length;b++)$("\x3coption value\x3d"+a[b].id+"\x3e"+a[b].userName+"\x3c/option\x3e").appendTo($("#userlist"))}function f(a,b){var c=JSON.parse(b).name;if("left"==a){var d=$("#factoryTable tbody tr").length+1;$("#factoryTable tbody").append("\x3ctr id\x3d'app_"+d+"'\x3e\x3ctd style\x3d'display: none'\x3e"+b+"\x3c/td\x3e\x3ctd\x3e\x3cinput name\x3d'checkbox1' class\x3d'nosort' type\x3d'checkbox' id\x3d'checkbox_"+d+"'/\x3e\x3c/td\x3e\x3ctd\x3e"+d+"\x3c/td\x3e\x3ctd\x3e"+c+"\x3c/td\x3e\x3c/tr\x3e")}else"right"==a&&(d=$("#allFactory tbody tr").length+1,$("#allFactory tbody").append("\x3ctr id\x3d'app_"+d+"'\x3e\x3ctd style\x3d'display: none'\x3e"+b+"\x3c/td\x3e\x3ctd\x3e\x3cinput name\x3d'checkbox2' class\x3d'nosort' type\x3d'checkbox' id\x3d'checkbox_"+d+"'/\x3e\x3c/td\x3e\x3ctd\x3e"+d+"\x3c/td\x3e\x3ctd\x3e"+c+"\x3c/td\x3e\x3c/tr\x3e"))}$("#checkAll1").click(function(){$(this).is(":checked")?$("input[name\x3d'checkbox1']").each(function(){$(this).prop("checked",!0)}):$("input[name\x3d'checkbox1']").each(function(){$(this).prop("checked",!1)})});$("#checkAll2").click(function(){$(this).is(":checked")?$("input[name\x3d'checkbox2']").each(function(){$(this).prop("checked",!0)}):$("input[name\x3d'checkbox2']").each(function(){$(this).prop("checked",!1)})});$("#orglist").change(function(){g()});$("#userlist").change(function(){$("#userlist option:selected").val()});$("#btnLeftAll").click(function(){$("input[type\x3dcheckbox][name\x3dcheckbox2]").each(function(){var a=$(this).parent().parent().children("td").eq(0).text();$(this).parent().parent().remove();f("left",a)})});$("#btnLeft").click(function(){$("input[type\x3dcheckbox][name\x3dcheckbox2]:checked").each(function(){var a=$(this).parent().parent().children("td").eq(0).text();$(this).parent().parent().remove();f("left",a)})});$("#btnRight").click(function(){$("input[type\x3dcheckbox][name\x3dcheckbox1]:checked").each(function(){var a=$(this).parent().parent().children("td").eq(0).text();$(this).parent().parent().remove();f("right",a)})});$("#btnRightAll").click(function(){$("input[type\x3dcheckbox][name\x3dcheckbox1]").each(function(){var a=$(this).parent().parent().children("td").eq(0).text();$(this).parent().parent().remove();f("right",a)})});(function(){var a=listorg({all:""}),a=JSON.parse(a);if("success"==a.errCode){for(var a=a.orgList,b=0;b<a.length;b++)$("\x3coption value\x3d"+a[b].id+"\x3e"+a[b].name+"\x3c/option\x3e").appendTo($("#orglist"));g()}})();(function(a){$("#allFactory tbody").empty();$("#allFactory tbody").html("");a=listorg(a);a=JSON.parse(a);if("success"==a.errCode){a=a.orgList;for(var b=a.length,c=0;c<b;c++){var d=a[c].name,e=JSON.stringify(a[c]);$("#allFactory tbody").append("\x3ctr id\x3d'app_"+(c+1)+"'\x3e\x3ctd style\x3d'display: none'\x3e"+e+"\x3c/td\x3e\x3ctd\x3e\x3cinput name\x3d'checkbox2' class\x3d'nosort' type\x3d'checkbox' id\x3d'checkbox_"+(c+1)+"'/\x3e\x3c/td\x3e\x3ctd\x3e"+(c+1)+"\x3c/td\x3e\x3ctd\x3e"+d+"\x3c/td\x3e\x3c/tr\x3e")}}})({all:""});var e=[];e.push("s1");e.push("s2");e.push("s3");setup(e);$("#s1").change(function(){change(1,e)});$("#s2").change(function(){change(2,e)});$("#s3").change(function(){change(3,e)})});